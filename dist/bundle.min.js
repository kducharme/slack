/*! slack 2018-05-01 */
!function(){return function e(t,n,a){function s(r,c){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!c&&l)return l(r,!0);if(o)return o(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return s(t[r][1][e]||e)},u,u.exports,e,t,n,a)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<a.length;r++)s(a[r]);return s}}()({1:[function(e,t,n){t.exports=(t=>{console.log(t);e("./databaseUpdate")({table:"channel",channelName:"-LBN5_skx51L7hJQp5R1"},{id:t.uid,email:t.email,name:"",img:""})})},{"./databaseUpdate":15}],2:[function(e,t,n){const a=e("./databaseLoad"),s=e("./loginScreen");a(),s()},{"./databaseLoad":13,"./loginScreen":21}],3:[function(e,t,n){t.exports=((e,t,n)=>{const a=document.createElement("button");return a.addEventListener("click",n),a.innerHTML=t,a.classList.add(e),a})},{}],4:[function(e,t,n){t.exports=((e,t,n)=>{const a=document.createElement("button");return a.addEventListener("click",n),a.textContent=t,a.classList.add(e),a})},{}],5:[function(e,t,n){t.exports=(t=>{const n=e("./channelCheck").setCurrentChannel,a=document.querySelectorAll(".individual-channel");let s=t.target;s.id||(s=t.path[1]);for(let e=0;e<a.length;e++)a[e].classList.contains("activeChannel")&&a[e].classList.remove("activeChannel");s.classList.add("activeChannel"),n(s.id)})},{"./channelCheck":6}],6:[function(e,t,n){let a=null;t.exports={getCurrentChannel:()=>a,setCurrentChannel:e=>{a=e,console.log(a)}}},{}],7:[function(e,t,n){t.exports=(e=>{document.querySelector(`#${e}`).value=""})},{}],8:[function(e,t,n){t.exports=(t=>{const n=e("./clearInputs"),a=e("./databaseCreate"),s=e("./dateGenerator"),o=document.querySelector("#nameInput"),r=document.querySelector("#purposeInput"),c=(s(),{name:o.value,purpose:r.value,dateCreated:date,users:{},messages:{}});n(o.id),n(r.id),a(c)})},{"./clearInputs":7,"./databaseCreate":10,"./dateGenerator":16}],9:[function(e,t,n){t.exports=(()=>{document.querySelector("#writeMessage")})},{}],10:[function(e,t,n){t.exports=(e=>{$.ajax({url:"https://slack-kd.firebaseio.com/channel.json",type:"POST",data:JSON.stringify(e),success:function(){console.log("success")},error:function(e){console.log("error: "+e)}})})},{}],11:[function(e,t,n){},{}],12:[function(e,t,n){},{}],13:[function(e,t,n){t.exports=(()=>{const t=e("./databaseParse");$.ajax({url:"https://slack-kd.firebaseio.com/channel.json?print=pretty",type:"GET",success:function(e){t(e)},error:function(e){console.table(e)}})})},{"./databaseParse":14}],14:[function(e,t,n){t.exports=(t=>{e("./databaseLoad");const n=e("./sidebarChannels"),a=[];return Object.keys(t).forEach(e=>{let n={key:e,name:t[e].name,purpose:t[e].purpose,date:t[e].date,messages:t[e].messages,users:t[e].users};a.push(n)}),n(a),a})},{"./databaseLoad":13,"./sidebarChannels":25}],15:[function(e,t,n){t.exports=((e,t)=>{$.ajax({url:`https://slack-kd.firebaseio.com/${e.table}/${e.channelName}/users/${t.id}.json`,type:"PATCH",data:JSON.stringify(t),success:function(){},error:function(e){console.table("error: "+e)}})})},{}],16:[function(e,t,n){t.exports=(()=>{const e=new Date,t=e.getDate();return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]} ${t}, ${e.getFullYear()}`})},{}],17:[function(e,t,n){t.exports=(()=>{const e=firebase.auth();return new Promise((t,n)=>{e.onAuthStateChanged(e=>{t(e)},n)})})},{}],18:[function(e,t,n){t.exports=((e,t,n,a)=>{const s=document.createElement("input");return s.setAttribute("type",e),s.setAttribute("id",t),s.classList.add(n),s.placeholder=a,s})},{}],19:[function(e,t,n){t.exports=(e=>{const t=document.createElement("p");return t.classList.add("input__label"),t.textContent=e,t})},{}],20:[function(e,t,n){const a=()=>{const t=e("./channelCheck").setCurrentChannel,n=document.querySelectorAll(".individual-channel")[0];console.log,n.classList.add("activeChannel"),t(n.id)};t.exports=a,window.addEventListener("load",a)},{"./channelCheck":6}],21:[function(e,t,n){t.exports=(()=>{const e=document.createElement("span");e.setAttribute("id","loginModal");const t=document.querySelector("body");e.classList.add("login"),e.appendChild(a()),t.appendChild(e)});const a=()=>{const t=document.createElement("span"),n=e("./inputFactory"),a=e("./buttonFactoryText"),o=e("./userLogin"),r=e("./userCreate"),c=s(),l=n("text","userDisplayName","login__input","Full name"),d=n("text","userEmail","login__input","you@example.com"),u=n("password","userPass","login__input","password"),i=a("login__button","Sign in",o),p=document.createElement("p");return p.textContent="Or, create a new account",p.classList.add("signup__button"),p.addEventListener("click",r),t.classList.add("login__content"),t.appendChild(c),t.appendChild(l),t.appendChild(d),t.appendChild(u),t.appendChild(i),t.appendChild(p),t},s=()=>{const e=document.createElement("span"),t=document.createElement("h1"),n=document.createElement("p");return t.textContent="Sign in to slack",n.textContent="Get started collabroating with your teammates.",e.classList.add("login__title"),e.appendChild(t),e.appendChild(n),e}},{"./buttonFactoryText":4,"./inputFactory":18,"./userCreate":28,"./userLogin":29}],22:[function(e,t,n){const a=t=>{const n=e("./dateGenerator")(),a=document.createElement("span");a.classList.add("message__title");const s=document.createElement("p");s.textContent=t.email;const o=document.createElement("p");return o.textContent=n,s.classList.add("message__title--user"),o.classList.add("message__title--date"),a.appendChild(s),a.appendChild(o),a};t.exports=((e,t)=>{const n=document.createElement("span");n.classList.add("message");const s=a(t);n.appendChild(s);const o=document.createElement("p");return o.textContent=e,n.appendChild(o),n})},{"./dateGenerator":16}],23:[function(e,t,n){t.exports=(()=>{const e=document.createElement("span"),t=s(),n=document.querySelector("body");e.classList.add("createChannel"),e.appendChild(t),n.appendChild(e)});const a=()=>{},s=()=>{const t=document.createElement("span"),n=e("./inputFactory"),s=e("./buttonFactoryText"),r=e("./inputLabelFactory"),c=(e("./databaseCreate"),e("./createNewChannel"));t.classList.add("createChannel__content");const l=o(),d=r("Name"),u=r("Purpose"),i=n("text","nameInput","createChannel__content--input","e.g. marketing"),p=n("text","purposeInput","createChannel__content--input","Enter channel purpose.."),h=document.createElement("span");h.classList.add("createChannel__content--actions");const m=s("createChannel__content--cancel","Cancel",a),C=s("createChannel__content--create","Create channel",c);return h.appendChild(m),h.appendChild(C),t.appendChild(l),t.appendChild(d),t.appendChild(i),t.appendChild(u),t.appendChild(p),t.appendChild(h),t},o=()=>{const e=document.createElement("span"),t=document.createElement("h1"),n=document.createElement("p");return t.textContent="Create new channel",n.textContent="Channels are where your members communicate. They’re best when organized around a topic — #leads, for example.",e.classList.add("createChannel__title"),e.appendChild(t),e.appendChild(n),e}},{"./buttonFactoryText":4,"./createNewChannel":8,"./databaseCreate":10,"./inputFactory":18,"./inputLabelFactory":19}],24:[function(e,t,n){document.querySelector("#writeMessage").addEventListener("keypress",t=>{13===(t.which||t.keyCode)&&(()=>{const t=e("./userCheck").getCurrentUser,n=e("./channelCheck").getCurrentChannel,a=e("./messageFactory"),s=document.querySelector("#writeMessage").value,o=document.querySelector(".messages"),r=t(),c=(n(),a(s,r,Date));o.appendChild(c)})()})},{"./channelCheck":6,"./messageFactory":22,"./userCheck":27}],25:[function(e,t,n){t.exports=(t=>{const n=document.createElement("span"),s=document.createElement("span"),o=e("./sidebarStructure"),r=e("./changeChannel"),c=a();t.forEach(e=>{const t=document.createElement("span");t.setAttribute("id",e.key),t.addEventListener("click",r),t.classList="individual-channel";const n=document.createElement("img");n.src="img/hash.png";const a=document.createElement("a");a.textContent=e.name,t.appendChild(n),t.appendChild(a),s.appendChild(t)}),s.classList="sidebar__channels--list",n.appendChild(c),n.appendChild(s),o(n)});const a=()=>{const t=e("./buttonFactoryIcon"),n=e("./newChannelModal"),a=document.createElement("span");a.classList="sidebar__channels--header";const s=document.createElement("h2");s.textContent="Channels";const o=t("sidebar__channels--new",'<i class="material-icons add-channel">add_circle_outline</i>',n);return a.appendChild(s),a.appendChild(o),a}},{"./buttonFactoryIcon":3,"./changeChannel":5,"./newChannelModal":23,"./sidebarStructure":26}],26:[function(e,t,n){t.exports=(t=>{const n=document.querySelector(".sidebar"),a=(e("./sidebarChannels"),e("./userLogout")),s=document.createElement("button");s.addEventListener("click",a),s.textContent="Log out",s.classList.add("logout__button"),n.appendChild(t),n.appendChild(s)})},{"./sidebarChannels":25,"./userLogout":30}],27:[function(e,t,n){let a=null;firebase.auth().onAuthStateChanged(e=>{if(e){console.log(e.uid),a=e,document.querySelector("#loginModal").classList.add("hide")}else loginModal.classList.remove("hide"),console.log("User does not exist")});t.exports={getCurrentUser:()=>a,setCurrentUser:e=>{a=e}}},{}],28:[function(e,t,n){t.exports=(()=>{const t=e("./addToChannel"),n=e("./userCheck").setCurrentUser,a=e("./clearInputs"),s=document.querySelector("#userEmail").value,o=(document.querySelector("#userDisplayName").value,document.querySelector("#userPass").value),r=firebase.auth();a("userEmail"),a("userPass"),a("userDisplayName"),r.createUserWithEmailAndPassword(s,o).then(e=>{n(e),t(e)}).catch(e=>console.log(e.message))})},{"./addToChannel":1,"./clearInputs":7,"./userCheck":27}],29:[function(e,t,n){t.exports=(()=>{const t=e("./clearInputs"),n=document.querySelector("#userEmail").value,a=document.querySelector("#userPass").value,s=firebase.auth();t("userEmail"),t("userPass"),t("userDisplayName"),s.signInWithEmailAndPassword(n,a).catch(e=>console.log(e.message))})},{"./clearInputs":7}],30:[function(e,t,n){t.exports=(()=>{firebase.auth().signOut()})},{}]},{},[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]);